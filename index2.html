<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <p>
        <select id="devicesSelect"></select>
    </p>

    <script>
function requestBluetoothDevices() {
  navigator.bluetooth.requestDevice({
    acceptAllDevices: true
  })
  .then(device => {
    console.log('Dispositivo Bluetooth seleccionado:', device.name);
    // AquÃ­ puedes realizar operaciones con el dispositivo
  })
  .catch(error => {
    console.error('Error al solicitar el dispositivo Bluetooth:', error);
  });
}
requestBluetoothDevices() 
    </script>
    <script>
   /*     console.log(navigator.bluetooth.getDevices)

function populateBluetoothDevices() {
  const devicesSelect = document.querySelector('#devicesSelect');
  console.log('Getting existing permitted Bluetooth devices...');
  navigator.bluetooth.getDevices()
  .then(devices => {
    console.log('> Got ' + devices.length + ' Bluetooth devices.');
    devicesSelect.textContent = '';
    for (const device of devices) {
      const option = document.createElement('option');
      option.value = device.id;
      option.textContent = device.name;
      devicesSelect.appendChild(option);
    }
  })
  .catch(error => {
    console.log('Argh! ' + error);
  });
}

function onRequestBluetoothDeviceButtonClick() {
    console.log('Requesting any Bluetooth device...');
  navigator.bluetooth.requestDevice({
 // filters: [...] <- Prefer filters to save energy & show relevant devices.
    acceptAllDevices: true
  })
  .then(device => {
    console.log('> Requested ' + device.name + ' (' + device.id + ')');
    populateBluetoothDevices();
  })
  .catch(error => {
    console.log('Argh! ' + error);
  });
}

function onForgetBluetoothDeviceButtonClick() {
  navigator.bluetooth.getDevices()
  .then(devices => {
    const deviceIdToForget = document.querySelector('#devicesSelect').value;
    const device = devices.find((device) => device.id == deviceIdToForget);
    if (!device) {
      throw new Error('No Bluetooth device to forget');
    }
    log('Forgetting ' + device.name + 'Bluetooth device...');
    return device.forget();
  })
  .then(() => {
    console.log('  > Bluetooth device has been forgotten.');
    populateBluetoothDevices();
  })
  .catch(error => {
    console.log('Argh! ' + error);
  });
}

window.onload = () => {
  populateBluetoothDevices();
};*/
    </script>

    <script>
  /*      async function populateBluetoothDevices() {
  const devicesSelect = document.querySelector('#devicesSelect');
  try {
    console.log('Getting existing permitted Bluetooth devices...');
    const devices = await navigator.bluetooth.getDevices();

    console.log('> Got ' + devices.length + ' Bluetooth devices.');
    devicesSelect.textContent = '';
    for (const device of devices) {
      const option = document.createElement('option');
      option.value = device.id;
      option.textContent = device.name;
      devicesSelect.appendChild(option);
    }
  }
  catch(error) {
    console.log('Argh! ' + error);
  }
}

async function onRequestBluetoothDeviceButtonClick() {
  try {
    console.log('Requesting any Bluetooth device...');
    const device = await navigator.bluetooth.requestDevice({
   // filters: [...] <- Prefer filters to save energy & show relevant devices.
      acceptAllDevices: true
    });

    console.log('> Requested ' + device.name + ' (' + device.id + ')');
    populateBluetoothDevices();
  }
  catch(error) {
    console.log('Argh! ' + error);
  }
}

async function onForgetBluetoothDeviceButtonClick() {
  try {
    const devices = await navigator.bluetooth.getDevices();

    const deviceIdToForget = document.querySelector('#devicesSelect').value;
    const device = devices.find((device) => device.id == deviceIdToForget);
    if (!device) {
      throw new Error('No Bluetooth device to forget');
    }
    console.log('Forgetting ' + device.name + 'Bluetooth device...');
    await device.forget();

    console.log('  > Bluetooth device has been forgotten.');
    populateBluetoothDevices();
  }
  catch(error) {
    console.log('Argh! ' + error);
  }
}

window.onload = () => {
  populateBluetoothDevices();
};*/
    </script>
</body>
</html>